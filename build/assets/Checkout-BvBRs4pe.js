import{r as j,j as e}from"./index-BFQJWq-_.js";import{B as i,C as v,d as g,e as f,a as N}from"./card-CtKMhi2c.js";import{I as d}from"./index-uZd9nn2B.js";import{L as c}from"./label-BoPTO_n6.js";import{a as V,b as U,M as Y,c as G,d as H,e as Z,f as J,S as C}from"./sheet-DnlfOXFL.js";import{A}from"./arrow-left-Chg66-gL.js";import{S as X}from"./search-CSjLplUK.js";import{U as w}from"./user-CSrcc_cG.js";import{S as K}from"./settings-BX0D-0Ji.js";import{M as Q}from"./map-pin-DzMD2T7X.js";import{C as W}from"./credit-card-DwNIJkxs.js";import{C as _}from"./circle-check-big-Bwf-RPIX.js";import{C as ee}from"./clock-o__XDSwt.js";import"./index-DHeGKKX0.js";import"./index-nQZ46GY7.js";function je({cartItems:b,total:m,onBack:k,onOrderComplete:I,onRestaurantSignup:S,onGoToAdmin:D,onGoToStaff:F,onViewAllRestaurants:P}){const[o,u]=j.useState(1),[r,M]=j.useState({street:"",apartment:"",city:"",state:"",zipCode:"",cardNumber:"",expiryDate:"",cvv:"",cardName:"",phone:"",email:"",instructions:""}),[t,y]=j.useState({}),[E,z]=j.useState(!1),O=()=>{const s={};r.street.trim()||(s.street="Street address is required"),r.city.trim()||(s.city="City is required"),r.state.trim()||(s.state="State is required"),r.zipCode.trim()||(s.zipCode="ZIP code is required"),r.phone.trim()||(s.phone="Phone number is required"),r.email.trim()||(s.email="Email is required");const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;r.email&&!a.test(r.email)&&(s.email="Please enter a valid email address");const n=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;return r.phone&&!n.test(r.phone)&&(s.phone="Please enter a valid phone number"),y(s),Object.keys(s).length===0},T=()=>{const s={};r.cardNumber.trim()||(s.cardNumber="Card number is required"),r.expiryDate.trim()||(s.expiryDate="Expiry date is required"),r.cvv.trim()||(s.cvv="CVV is required"),r.cardName.trim()||(s.cardName="Cardholder name is required");const a=r.cardNumber.replace(/\s/g,"");if(a&&(a.length<13||a.length>19)&&(s.cardNumber="Please enter a valid card number"),r.expiryDate){const[n,p]=r.expiryDate.split("/"),x=new Date;new Date(parseInt("20"+p),parseInt(n)-1)<x&&(s.expiryDate="Card has expired")}return r.cvv&&(r.cvv.length<3||r.cvv.length>4)&&(s.cvv="CVV must be 3 or 4 digits"),y(s),Object.keys(s).length===0},l=(s,a)=>{M(n=>({...n,[s]:a})),t[s]&&y(n=>({...n,[s]:""}))},$=s=>{const a=s.replace(/\s+/g,"").replace(/[^0-9]/gi,""),n=a.match(/\d{4,16}/g),p=n&&n[0]||"",x=[];for(let h=0,R=p.length;h<R;h+=4)x.push(p.substring(h,h+4));return x.length?x.join(" "):a},B=s=>{const a=s.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return a.length>=2?a.substring(0,2)+"/"+a.substring(2,4):a},q=()=>{o===1&&O()?u(2):o===2&&T()&&u(3)},L=async()=>{z(!0),setTimeout(()=>{z(!1),I()},3e3)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"bg-card/40 backdrop-blur-sm border-b border-white/10 sticky top-0 z-10",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:k,className:"text-muted-foreground hover:text-foreground",children:e.jsx(A,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Checkout"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:o>=1?"text-primary":"",children:"Address"}),e.jsx("span",{children:"→"}),e.jsx("span",{className:o>=2?"text-primary":"",children:"Payment"}),e.jsx("span",{children:"→"}),e.jsx("span",{className:o>=3?"text-primary":"",children:"Confirmation"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary",children:"FrontDash"}),e.jsx("div",{className:"w-4 h-4 border border-primary rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"})})]}),e.jsxs(V,{children:[e.jsx(U,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:e.jsx(Y,{className:"h-5 w-5"})})}),e.jsxs(G,{side:"right",className:"w-[300px] bg-background/95 backdrop-blur-sm border-white/10",children:[e.jsxs(H,{children:[e.jsxs(Z,{className:"flex items-center space-x-2 text-left",children:[e.jsx("div",{className:"font-semibold text-primary",children:"FrontDash"}),e.jsx("div",{className:"w-3 h-3 border border-primary rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"})})]}),e.jsx(J,{children:"Navigate through FrontDash's features and services"})]}),e.jsxs("div",{className:"flex flex-col mt-6 h-full",children:[e.jsx("div",{className:"space-y-4 pb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(d,{placeholder:"Search restaurants, dishes...",className:"pl-12 h-12 bg-card/50 border-white/10 text-foreground rounded-xl"})]})}),e.jsxs("div",{className:"space-y-2 pb-6",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground/80 mb-3 px-2 tracking-wider",children:"EXPLORE"}),e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-foreground hover:text-primary hover:bg-primary/5 rounded-xl group",onClick:()=>{P&&P()},children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary/10 rounded-lg mr-3 group-hover:bg-primary/20 transition-colors",children:e.jsx(C,{className:"h-4 w-4 text-primary"})}),"Food & Restaurants"]}),e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-foreground hover:text-primary hover:bg-primary/5 rounded-xl relative group",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary/10 rounded-lg mr-3 group-hover:bg-primary/20 transition-colors",children:e.jsx(C,{className:"h-4 w-4 text-primary"})}),"Cart",b.length>0&&e.jsx("span",{className:"absolute right-3 h-6 w-6 rounded-full bg-primary text-xs text-primary-foreground flex items-center justify-center font-medium",children:b.length})]})]}),e.jsxs("div",{className:"border-t border-white/5 pt-6 space-y-2 pb-6",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground/80 mb-3 px-2 tracking-wider",children:"BUSINESS"}),e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-primary hover:text-primary/80 hover:bg-primary/5 rounded-xl",onClick:()=>{S&&S()},children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary/10 rounded-lg mr-3",children:e.jsx(C,{className:"h-4 w-4 text-primary"})}),"For Restaurants"]}),e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-muted-foreground hover:text-foreground hover:bg-muted/5 rounded-xl",onClick:()=>{D&&D()},children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted/10 rounded-lg mr-3",children:e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})}),"Admin Portal"]}),e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-muted-foreground hover:text-foreground hover:bg-muted/5 rounded-xl",onClick:()=>{F&&F()},children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted/10 rounded-lg mr-3",children:e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})}),"Staff Portal"]})]}),e.jsxs("div",{className:"border-t border-white/5 pt-6 space-y-2 pb-6",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground/80 mb-3 px-2 tracking-wider",children:"ACCOUNT"}),e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-foreground hover:text-foreground/80 hover:bg-muted/5 rounded-xl",onClick:()=>{onGoToAccount&&onGoToAccount()},children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted/10 rounded-lg mr-3",children:e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})}),"My Account"]}),e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-foreground hover:text-foreground/80 hover:bg-muted/5 rounded-xl",onClick:()=>{onGoToSettings&&onGoToSettings()},children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted/10 rounded-lg mr-3",children:e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})}),"Settings"]})]}),e.jsx("div",{className:"border-t border-white/5 pt-6 space-y-2 mt-auto",children:e.jsxs(i,{variant:"ghost",className:"w-full justify-start h-12 text-primary hover:text-primary/80 hover:bg-primary/5 rounded-xl",onClick:k,children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary/10 rounded-lg mr-3",children:e.jsx(A,{className:"h-4 w-4 text-primary"})}),"Back to Cart"]})})]})]})]})]})]})})}),e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[o===1&&e.jsxs(v,{className:"bg-card/40 backdrop-blur-sm border-white/10",children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"Delivery Address"})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"street",children:"Street Address *"}),e.jsx(d,{id:"street",value:r.street,onChange:s=>l("street",s.target.value),className:t.street?"border-destructive":"",placeholder:"123 Main Street"}),t.street&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.street})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"apartment",children:"Apartment/Suite"}),e.jsx(d,{id:"apartment",value:r.apartment,onChange:s=>l("apartment",s.target.value),placeholder:"Apt 4B"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"city",children:"City *"}),e.jsx(d,{id:"city",value:r.city,onChange:s=>l("city",s.target.value),className:t.city?"border-destructive":"",placeholder:"New York"}),t.city&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.city})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"state",children:"State *"}),e.jsx(d,{id:"state",value:r.state,onChange:s=>l("state",s.target.value),className:t.state?"border-destructive":"",placeholder:"NY"}),t.state&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.state})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"zipCode",children:"ZIP Code *"}),e.jsx(d,{id:"zipCode",value:r.zipCode,onChange:s=>l("zipCode",s.target.value),className:t.zipCode?"border-destructive":"",placeholder:"10001"}),t.zipCode&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.zipCode})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"phone",children:"Phone Number *"}),e.jsx(d,{id:"phone",value:r.phone,onChange:s=>l("phone",s.target.value),className:t.phone?"border-destructive":"",placeholder:"(555) 123-4567"}),t.phone&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.phone})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"email",children:"Email Address *"}),e.jsx(d,{id:"email",type:"email",value:r.email,onChange:s=>l("email",s.target.value),className:t.email?"border-destructive":"",placeholder:"john@example.com"}),t.email&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"instructions",children:"Delivery Instructions"}),e.jsx(d,{id:"instructions",value:r.instructions,onChange:s=>l("instructions",s.target.value),placeholder:"Leave at front door, ring doorbell"})]})]}),e.jsx(i,{onClick:q,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:"Continue to Payment"})]})]}),o===2&&e.jsxs(v,{className:"bg-card/40 backdrop-blur-sm border-white/10",children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"Payment Information"})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"cardNumber",children:"Card Number *"}),e.jsx(d,{id:"cardNumber",value:r.cardNumber,onChange:s=>l("cardNumber",$(s.target.value)),className:t.cardNumber?"border-destructive":"",placeholder:"1234 5678 9012 3456",maxLength:19}),t.cardNumber&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.cardNumber})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"expiryDate",children:"Expiry Date *"}),e.jsx(d,{id:"expiryDate",value:r.expiryDate,onChange:s=>l("expiryDate",B(s.target.value)),className:t.expiryDate?"border-destructive":"",placeholder:"MM/YY",maxLength:5}),t.expiryDate&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.expiryDate})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"cvv",children:"CVV *"}),e.jsx(d,{id:"cvv",value:r.cvv,onChange:s=>l("cvv",s.target.value.replace(/\D/g,"")),className:t.cvv?"border-destructive":"",placeholder:"123",maxLength:4}),t.cvv&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.cvv})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"cardName",children:"Cardholder Name *"}),e.jsx(d,{id:"cardName",value:r.cardName,onChange:s=>l("cardName",s.target.value),className:t.cardName?"border-destructive":"",placeholder:"John Doe"}),t.cardName&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:t.cardName})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(i,{variant:"outline",onClick:()=>u(1),className:"flex-1",children:"Back"}),e.jsx(i,{onClick:q,className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Review Order"})]})]})]}),o===3&&e.jsxs(v,{className:"bg-card/40 backdrop-blur-sm border-white/10",children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"Order Confirmation"})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Delivery Address"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:[r.street," ",r.apartment]}),e.jsxs("p",{children:[r.city,", ",r.state," ",r.zipCode]}),e.jsxs("p",{children:["Phone: ",r.phone]}),e.jsxs("p",{children:["Email: ",r.email]}),r.instructions&&e.jsxs("p",{children:["Instructions: ",r.instructions]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Payment Method"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:["**** **** **** ",r.cardNumber.slice(-4)]}),e.jsx("p",{children:r.cardName})]})]}),e.jsx("div",{className:"bg-primary/10 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-primary",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold",children:"Estimated Delivery: 25-35 minutes"})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(i,{variant:"outline",onClick:()=>u(2),className:"flex-1",children:"Back"}),e.jsx(i,{onClick:L,disabled:E,className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",children:E?"Processing...":`Place Order - $${m.toFixed(2)}`})]})]})]})]}),e.jsx("div",{children:e.jsxs(v,{className:"bg-card/40 backdrop-blur-sm border-white/10 sticky top-24",children:[e.jsx(g,{children:e.jsx(f,{children:"Order Summary"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:b.map(s=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s.quantity,"x ",s.name]}),e.jsxs("span",{className:"text-foreground",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))}),e.jsxs("div",{className:"border-t border-white/10 pt-4 space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{className:"text-foreground",children:["$",(m-m*.08-(m>25?0:2.99)).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax"}),e.jsxs("span",{className:"text-foreground",children:["$",(m*.08).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),e.jsx("span",{className:"text-foreground",children:m>25?"Free":"$2.99"})]}),e.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t border-white/10",children:[e.jsx("span",{className:"text-foreground",children:"Total"}),e.jsxs("span",{className:"text-primary",children:["$",m.toFixed(2)]})]})]})]})]})})]})})]})}export{je as default};
